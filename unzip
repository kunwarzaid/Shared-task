import os
import zipfile

# Path to your zip file
zip_path = "/workspace/SharedTask_NLPAI4Health_Train&dev_set.zip"
extract_to = "/workspace/SharedTask_NLPAI4Health_Train&dev_set"

# ✅ 1. Unzip (only if not already extracted)
if not os.path.exists(extract_to):
    with zipfile.ZipFile(zip_path, 'r') as zip_ref:
        zip_ref.extractall("/workspace/")
    print("✅ Unzipped successfully!")
else:
    print("📁 Folder already exists, skipping unzip.")

# ✅ 2. List English folder contents
english_path = "/workspace/SharedTask_NLPAI4Health_Train&dev_set/train/English"
if os.path.exists(english_path):
    print(f"\n📂 Files inside {english_path}:\n")
    for root, dirs, files in os.walk(english_path):
        level = root.replace(english_path, '').count(os.sep)
        indent = ' ' * 2 * level
        print(f"{indent}{os.path.basename(root)}/")
        subindent = ' ' * 2 * (level + 1)
        for f in files[:5]:  # only show first 5 per folder for brevity
            print(f"{subindent}{f}")
else:
    print("❌ English folder not found. Check unzip path.")
